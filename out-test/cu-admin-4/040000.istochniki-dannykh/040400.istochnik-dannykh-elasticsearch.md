# Источник данных Elasticsearch

Elasticsearch – это поисковая и аналитическая система, используемая в различных сценариях. Можно создавать множество типов запросов для визуализации журналов или метрик, хранящихся в Elasticsearch, а также дополнять графики событиями из журналов, хранящихся в Elasticsearch.

## Настройка источника данных

Можно определить и настроить источник данных в файлах YAML в рамках подготовки Подсистемы.

Пример базовой подготовки:

```yaml
apiVersion: 1
datasources:
– name: Elastic
type: elasticsearch
access: proxy
url: http://localhost:9200
jsonData:
index: '[metrics-]YYYY.MM.DD'
interval: Daily
timeField: '@timestamp'
```

Пример подготовки журналов:

```yaml
apiVersion: 1
datasources:
– name: elasticsearch-v7-filebeat
type: elasticsearch
access: proxy
url: http://localhost:9200
jsonData:
index: '[filebeat-]YYYY.MM.DD'
interval: Daily
timeField: '@timestamp'
logMessageField: message
logLevelField: fields.level
dataLinks:
– datasourceUid: my_jaeger_uid # Target UID needs to be known
field: traceID
url: '$${__value.raw}' # Careful about the double "$$" because of env var expansion
```