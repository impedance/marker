# Роли и разрешения

Пользователь – это любое лицо, которое может войти в Подсистему. Каждый пользователь связан с ролью, которая включает разрешения. Разрешения определяют задачи, которые пользователь может выполнять в системе. Например, роль Admin включает разрешения на создание и удаление пользователей.

Можно назначить пользователю один из трех типов разрешений:

- Права администратора сервера Подсистемы – управление настройками и ресурсами всего сервера Подсистемы;
- Права организации – управление доступом к панелям мониторинга, оповещениям, плагинам, командам, плейлистам и другим ресурсам для всей организации; доступны следующие роли: Viewer, Editor и Admin;
- Разрешение панели мониторинга и папок – управление доступом к панелям мониторинга и папкам.

## Администраторы сервера Подсистемы

Администратор сервера Подсистемы управляет настройками сервера и доступом к таким ресурсам, как организации, пользователи и лицензии. В Подсистеме по умолчанию есть администратор сервера, которого можно использовать для управления всей Подсистемы, или можно разделить эти обязанности между другими администраторами сервера, которых можно создать.

> Примечание – Роль администратора сервера не означает, что пользователь также является администратором организации Подсистемы.

Администратор сервера может выполнять следующие задачи:

- управление пользователями и разрешениями;
- создание, редактирование и удаление организаций;
- просмотр общесерверных настроек, определенных в конфигурационном файле;
- просмотр статистики сервера, включая общее количество пользователей и активных сессий;
- обновление сервера.

## Пользователи и разрешения организации

Все пользователи Подсистемы принадлежат как минимум к одной организации. Организация – это субъект, существующий в экземпляре Подсистемы.

Права, назначенные пользователю в организации, определяют, к каким ресурсам организации он может получить доступ и обновлять их:

- панели мониторинга и папки;
- оповещения;
- плейлисты;
- пользователи внутри этой организации;
- источники данных;
- команды;
- настройки организации и команды;
- плагины;
- аннотации;
- библиотечная панель;
- ключи API.

## Роли в организации

Права доступа на основе ролей в организации являются глобальными, то есть каждый уровень доступа применяется ко всем ресурсам Подсистемы в рамках данной организации. Например, редактор может просматривать и обновлять все панели мониторинга в организации, если только эти панели мониторинга не были специально ограничены с помощью прав доступа к панелям мониторинга.

Подсистема использует следующие роли для управления доступом пользователей:

- Admin (Администратор организации) – имеет доступ ко всем ресурсам организации, включая панели мониторинга, пользователей и команды;
- Editor (Редактор) – может просматривать и редактировать панели мониторинга, папки и плейлисты;
- Viewer (Наблюдатель) – может просматривать панели мониторинга, плейлисты и запрашивать источники данных;
- Ohne base role (Без базовой роли) – не имеет разрешений; разрешения будут добавлены с помощью RBAC по мере необходимости.

В таблице 4 перечислены разрешения для каждой роли.

1. Разрешения ролей

| **Разрешение** | **Администратор организации** | **Редактор** | **Наблюдатель** | **Без базовой роли** |
| --- | --- | --- | --- | --- |
| Просмотр панелей мониторинга | Да | Да | Да |  |
| Добавление, редактирование, удаление панелей мониторинга | Да | Да |  |  |
| Добавление, редактирование, удаление папок | Да | Да |  |  |
| Просмотр плейлистов | Да | Да | Да |  |
| Добавление, редактирование, удаление плейлистов | Да | Да |  |  |
| Создание библиотечных панелей | Да | Да |  |  |
| Просмотр аннотаций | Да | Да | Да |  |
| Добавление, редактирование, удаление аннотаций | Да | Да |  |  |
| Доступ к "Обзору" | Да | Да |  |  |
| Запрос источников данных напрямую | Да | Да | Да |  |
| Добавление, редактирование, удаление источников данных | Да |  |  |  |
| Добавление и редактирование пользователей | Да |  |  |  |
| Добавление и редактирование команд | Да |  |  |  |
| Изменение настроек организаций | Да |  |  |  |
| Изменение настроек команды | Да |  |  |  |
| Настройка плагинов приложений | Да |  |  |  |

## Разрешения для панели мониторинга

Если требуется предоставить пользователю возможность редактировать и сохранять изменения на панели мониторинга или ограничить права редактора на изменение панели мониторинга, можно назначить разрешения для панелей мониторинга и папок. Например, можно предоставить определенному пользователю возможность редактировать панель мониторинга. Хотя этот пользователь может видеть все панели мониторинга, можно предоставить ему доступ к обновлению только одной из них.

Следует обратить внимание, что указанные разрешения на панели мониторинга переопределяют разрешения организации, которые назначают пользователю для выбранного объекта.

Можно указать следующие разрешения для панелей мониторинга и папок:

- Admin – может создавать, редактировать или удалять панель мониторинга; может редактировать или удалять папку, а также создавать панели мониторинга и подпапки в папке; может изменять разрешения для панелей мониторинга и папок;
- Edit – можно создать, изменить или удалить панель мониторинга; можно изменить или удалить папку, а также создать панели мониторинга и подпапки в папке; нельзя изменять разрешения для папок или панелей мониторинга;
- View – можно просматривать только панели мониторинга и папки.

Следует обратить внимание, что при создании пользователем панели мониторинга или папки, ему автоматически предоставляются права Admin.

## Редакторы с правами администратора

Если есть доступ к серверу Подсистемы, можно изменить роль редактора по умолчанию, чтобы редакторы могли использовать права администратора для управления папками, панелями мониторинга и командами, которые они создают.

> Примечание – Это разрешение не позволяет редакторам управлять папками, панелями мониторинга и командами, которые они не создавали.

Этот параметр можно использовать, чтобы позволить самоорганизующимся командам управлять собственными панелями мониторинга.

## Наблюдатели с разрешениями для предварительного просмотра панели мониторинга и обзора

Если есть доступ к серверу Подсистемы, можно изменить роль пользователя по умолчанию, чтобы пользователи могли:

- отредактировать и просмотреть панели мониторинга, но нельзя сохранить внесенные изменения или создать новые панели мониторинга;
- получать доступ и использовать "Explore (Исследование)".

Расширение роли наблюдателя полезно для общедоступных установок Подсистемы, где требуется, чтобы анонимные пользователи могли редактировать панели и запросы, но не могли сохранять или создавать новые панели мониторинга.

## Команды и разрешения

Команда – это группа пользователей в организации, у которых есть общие панели мониторинга и требования к разрешениям на доступ к источникам данных. Например, вместо того, чтобы предоставлять нескольким пользователям доступ к одной и той же панели мониторинга, можно создать команду, состоящую из этих пользователей, и назначить команде разрешения на доступ к панели мониторинга. Пользователь может входить в несколько команд.

Можно назначить члену команды одно из следующих разрешений:

- Member – включает пользователя в состав команды; не имеет прав администратора команды;
- Admin – имеет право управлять различными аспектами работы команды, включая членство в команде, разрешения и настройки.

Поскольку команды существуют внутри организации, администратор организации может управлять всеми командами. Если параметр editors_can_admin включен, редакторы могут создавать команды и управлять созданными ими командами.