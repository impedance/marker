## 10 Тарифы

В РОСА Менеджер ресурсов применение тарифов позволяет устанавливать плату и получать денежные средства за предоставленные аппаратные ресурсы для функционирования ВМ.

Пользователь Комплекса может создавать и применять собственные тарифы, а также использовать предустановленные системные тарифы.

РОСА Менеджер ресурсов предоставляет пользователю набор системных тарифов, созданных по умолчанию и распределенных по разделам "Тарифы" и "Назначения", доступном в меню "Обзор → Взимание средств" панели навигации.

Раздел "Тарифы" содержит тарифы за использование аппаратных ресурсов, предназначенных для обработки информации – ЦП, ядра ЦП, оперативная память, дисковый и сетевой ввод-вывод.

Раздел "Назначение" содержит применение тарифов к используемым ресурсам и дисковым хранилищам.

Примечание – Для применения тарифов и расчета стоимости должен быть включен контроль использования аппаратных ресурсов ВМ.

### 10.1 Стоимость использования аппаратных ресурсов ВМ

В РОСА Менеджер ресурсов стоимость использования аппаратных ресурсов рассчитывается определенным образом для каждого типа ресурсов с учетом установленной платы за единицу измерения и временной период.

#### 10.1.1 Стоимость выделенных ЦП

При расчете стоимости выделенных ЦП учитывается общее количество используемых ЦП за выбранный временной интервал – час, день, неделя или месяц.

Следующий пример содержит расчет стоимости выделенных ЦП в рублях за день при использовании 16 ЦП в день и установленной плате в 100₽ за использование 1 ЦП в день:

16  100  1600₽

#### 10.1.2 Стоимость утилизации ЦП

При расчете стоимости утилизации ЦП учитывается среднее значение частоты в МГц у используемого ЦП за выбранный временной интервал – час, день, неделя или месяц.

Примечание – В тарифе для расчета стоимости утилизации ЦП плата может быть установлена за единицу тактовой частоты ЦП, выраженную в Гц, КГц, МГц, ГГц или ТГц.

Следующий пример содержит расчет стоимости утилизации ЦП в рублях за день при среднем значении частоты 2,5 ГГц в течение дня и установленной плате в 1₽ за 1 МГц в день:

2,5 ГГц  2500 МГц

2500  1  2500₽

#### 10.1.3 Стоимость утилизации оперативной памяти

Стоимость утилизации оперативной памяти за день может быть рассчитана следующими способами:

(объем выделенной памяти в МБ в час)  (плата за 1 МБ памяти в час)  (количество событий выделения памяти в день);

(объем выделенной памяти в МБ в день)  (плата за 1 МБ памяти в час);

(объем выделенной памяти в МБ в день)  (плата за 1 МБ памяти в день)  24.

Примечание – В тарифе для расчета стоимости утилизации оперативной памяти плата может быть установлена за единицу объема выделенной памяти, выраженную в байтах, КБ, МБ, ГБ или ТБ.

Следующий пример содержит расчет стоимости утилизации памяти в рублях за день при объеме выделенной памяти в 9,29 ГБ в день и установленной плате в 1₽ за 1 МБ памяти в день:

9,29 ГБ  9514,08 МБ

9514,08  1  24  396,42₽

#### 10.1.4 Стоимость выделенного хранилища

При расчете стоимости выделенного хранилища учитывается объем выделенного дискового пространства в байтах за выбранный временной интервал – час, день, неделя или месяц.

Примечание – В тарифе для расчета стоимости выделенного хранилища плата может быть установлена за единицу объема выделенного дискового пространства, выраженную в байтах, КБ, МБ, ГБ или ТБ.

Следующий пример содержит расчет стоимости выделенного хранилища в рублях за день при объеме выделенного дискового пространства в 500 ГБ в день и установленной плате в 10₽ за 1 ГБ дискового пространства в день:

500  10  5000₽

#### 10.1.5 Стоимость утилизации хранилища

При расчете стоимости утилизации хранилища учитывается объем используемого дискового пространства в байтах за выбранный временной интервал – час, день, неделя или месяц.

Примечание – В тарифе для расчета стоимости утилизации хранилища плата может быть установлена за единицу объема используемого дискового пространства, выраженную в байтах, КБ, МБ, ГБ или ТБ.

Следующий пример содержит расчет стоимости утилизации хранилища в рублях за день при объеме используемого дискового пространства в 250 ГБ в день и установленной плате в 10₽ за 1 ГБ дискового пространства в день:

250  10  2500₽

### 10.2 Создание тарифа

Тариф может быть создан как с единой ставкой, так и с несколькими уровнями ставок, которые применяются в заданных диапазонах значений в зависимости от степени использования ресурса.

В свою очередь, к каждому уровню тарифа может применяться как фиксированная ставка, так и сочетание фиксированной и переменной ставки. В первом случае фиксированная ставка начисляется один раз за выбранный временной интервал. Во втором случае переменная ставка умножается на количество использованного ресурса за выбранный временной интервал, а затем результат умножения суммируется с фиксированной ставкой.

Например, тариф за использование выделенных ЦП в течение часа может содержать следующие уровни, диапазоны и ставки:

уровень 1:

количество ЦП в диапазоне от 0 до 2;

ставка – 100₽ (фиксированная) и 50₽ (переменная);

уровень 2:

количество ЦП в диапазоне от 2 (включительно) до 4;

ставка – 80₽ (фиксированная) и 40₽ (переменная);

уровень 3:

количество ЦП в диапазоне от 4 (включительно) и более;

ставка – 60₽ (фиксированная)  20₽ (переменная).

В этом случае стоимость использования 4-х выделенных ЦП в течение часа рассчитывается по уровню 3 следующим образом:

60  (20  4)  140₽

Создание тарифа (для вышеприведенного примера) осуществляется выполнением следующих действий:

в меню панели навигации выбрать пункт "Обзор → Взимание средств → Тарифы";

нажать кнопку Конфигурация и выбрать Добавить новый тариф взимания средств за использование; на экране появится интерфейс добавления в Комплекс нового тарифа (рисунок 172);

Добавление нового тарифа

интерфейс содержит параметры тарифа, распределенные по секциям для последовательной настройки:

в поле "Описание" ввести наименование (краткое описание) тарифа;

из раскрывающегося списка "Тип" выбрать категорию "Вычисление (Compute)" или "Хранилище (Storage)";

из раскрывающегося списка в секции "Валюты" выбрать "Российский рубль";

в секции "Подробности тарифа", например, выбрать временной интервал "Каждый час" из раскрывающегося списка в строке "Количество выделенных ЦП" из группы "ЦП", затем настроить для каждого уровня свои диапазоны значений и ставки:

для настройки параметров 1-го уровня выполнить следующие действия в первой строке: в графе "Диапазон|Запустить" указать значение "0", а в графы "Диапазон|Завершить" указать значение "2"; в графе "Тариф|Фиксированный" указать значение "100", а в графе "Тариф|Переменный" указать значение "50"; в графе "Действия" нажать кнопку Добавить, чтобы создать новую пустую строку для параметров 2-го уровня, или нажать кнопку Удалить, чтобы удалить строку уровня (следует обратить внимание, что значение конца диапазона не будет включено в этот уровень);

для настройки параметров 2-го уровня выполнить следующие действия во второй строке: в графе "Диапазон|Запустить" указать значение "2", а в графе "Диапазон|Завершить" указать значение "4";

в графе "Тариф|Фиксированный" указать значение "80", а графе "Тариф|Переменный" указать значение "40"; в графе "Действия" нажать кнопку Добавить, чтобы создать новую пустую строку для параметров 3-го уровня, или нажать кнопку Удалить, чтобы удалить строку уровня (следует обратить внимание, что значение конца диапазона не будет включено в этот уровень);

для настройки параметров 3-го уровня выполнить следующие действия в третьей строке: в графе "Диапазон|Запустить" указать значение "4", а в третьей строке графы "Диапазон|Завершить" указать значение "Бесконечность"; в графе "Тариф|Фиксированный" указать значение "60", а в третьей строке графы "Тариф|Переменный" указать значение "20";

нажать кнопку Добавить для сохранения нового тарифа в Комплексе.

### 10.3 Редактирование параметров тарифа

Редактирование параметров тарифа осуществляется выполнением следующих действий:

в меню панели навигации выбрать пункт "Обзор → Взимание средств → Тарифы";

выбрать необходимый тариф;

нажать кнопку Конфигурация и выбрать Редактировать этот тариф взимания средств за использование;

внести необходимые изменения в значения параметров тарифа;

нажать кнопку Сохранить.

### 10.4 Копирование тарифа

Для создания нового тарифа на основе существующего можно выполнить копирование базового тарифа и внести необходимые изменения в значения параметров скопированного тарифа.

Копирование тарифа осуществляется выполнением следующих действий:

в меню панели навигации выбрать пункт "Обзор → Взимание средств → Тарифы";

выбрать необходимый тариф;

нажать кнопку Конфигурация и выбрать Скопировать этот тариф взимания средств за использование в новый тариф;

внести уникальное наименование в поле "Описание" и другие требуемые изменения в значения параметров скопированного тарифа;

нажать кнопку Добавить.

### 10.5 Применение тарифов

Пользователь РОСА Менеджер ресурсов может применять собственные и предустановленные системные тарифы категорий "Вычисления" и "Хранилище".

#### 10.5.1 Применение тарифов категории "Вычисления"

Категория "Вычисления" содержит тарифы за использование аппаратных ресурсов, предназначенных для обработки информации – ЦП, оперативная память, дисковый и сетевой ввод-вывод.

Применение тарифов категории "Вычисления" осуществляется выполнением следующих действий.

в меню панели навигации выбрать пункт "Обзор → Взимание средств → Назначения";

перейти на вкладку "Ресурсы" (рисунок 173);

Назначение взимания средств за использование ресурсов

из раскрывающегося списка "Назначить для" выбрать необходимое значение: "Предприятие", "Кластеры", "ВМ", "Арендаторы" или другие;

при появлении раскрывающегося списка "Категория тегов" выбрать нужное значение;

для каждого элемента графы "Имя" выбрать соответствующий тариф из графы "Тариф" в раскрывающихся списках строк;

нажать кнопку Сохранить.

#### 10.5.2 Применение тарифов категории "Хранилище"

Категория "Хранилище" содержит тарифы за использование дискового хранилища.

Применение тарифов категории "Хранилище" осуществляется выполнением следующих действий.

в меню панели навигации выбрать пункт "Обзор → Взимание средств → Назначения";

перейти на вкладку "Хранилище" (рисунок 174);

Назначение взимания средств за использование ресурсов

из раскрывающегося списка "Назначить на" выбрать необходимое значение: "Предприятие", "Выбранные хранилища данных", "Хранилища данных с назначенными тегами" или "Арендаторы";

при необходимости выбрать нужное значение из раскрывающегося списка "Категория тегов";

для каждого элемента выбрать соответствующий тариф из раскрывающегося списка;

нажать кнопку Сохранить.

### 10.6 Создание отчета о полученных средствах

Создание отчета о полученных денежных средствах за предоставленные ресурсы осуществляется выполнением следующих действий:

в меню панели навигации выбрать пункт "Обзор → Отчеты";

развернуть аккордеон "Отчеты" и выбрать в меню пункт "Все отчеты";

нажать кнопку Конфигурация и выбрать Добавить новый отчет;

на экране появится интерфейс добавления в Комплекс нового отчета (рисунок 175), который содержит параметры отчета для редактирования, распределенные по вкладкам для последовательной настройки:

Вкладка "Столбцы"

во вкладке "Столбцы":

в поле "Имя меню" секции "Базовые сведения об отчете" указать уникальное имя меню (наименование отчета для отображения в общем списке) и в поле "Заголовок" – внутренний заголовок отчета;

в секции "Настроить столбцы отчета" выбрать таблицу с одним из наименований, начинающихся со "Взимание средств …", например "Взимание средств за использование ВМ", содержащую необходимую для отчета информацию, из раскрывающегося списка "Отчет основан на";

в списке "Доступные поля" выбрать все поля, связанные с ресурсами и тарифами; выбранные поля будут являться столбцами этого отчета;

нажать кнопку переноса  для отображения выбранных полей в списке "Выбранные поля" или кнопку  для их исключения из отчета;

при необходимости используют следующие кнопки сортировки списка "Выбранные поля" для изменения итогового порядка столбцов в отчете:

– для перемещения выбранного элемента в начало списка;

– для перемещения выбранного элемента на одну позицию вверх в списке;

– для перемещения выбранного элемента на одну позицию вниз в списке;

– для перемещения выбранного элемента в конец списка;

во вкладке "Форматирование" (рисунок 176), где в соответствующих графах секции "Задать заголовки и форматы столбцов" ввести наименование заголовка для каждого столбца отчета, а для столбцов с числовыми значениями выбрать необходимый числовой формат;

Вкладка "Форматирование"

во вкладке "Фильтр" (рисунок 177) настроить необходимые фильтры для данных, отображаемых в отчете, используя возможности фильтрации по типу ресурсов и временному интервалу;

Вкладка "Фильтр"

во вкладке "Предварительный просмотр" нажать кнопку  Создать предварительный просмотр отчета для просмотра образца отчета;

нажать кнопку Добавить для сохранения отчета в Комплексе.

Следует обратить внимание, что после добавления нового отчета в Комплекс необходимо разместить этот отчет в один из каталогов меню отчетов (см. п.9.3.10), чтобы новый отчет стал доступен для управления в Комплексе через меню отчетов.

Примечание – Подробное описание процедуры добавления нового пользовательского отчета в Комплекс приведено в подразделе 9.3.4.

Сохранённые отчёты о взимание средств за использование ресурсов можно просматривать в пункте меню панели навигации "Обзор → Взимание средств → Назначения" (рисунок 178).

Сохраненные отчеты о взимании средств