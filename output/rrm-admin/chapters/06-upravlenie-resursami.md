## 6 Управление ресурсами

Предоставление ресурсов – это процесс подготовки, создания или настройки ресурса и обеспечение его доступности для использования. В общем случае ресурс может быть ВМ или сервером.

РОСА Менеджер ресурсов может предоставлять ВМ (или также называемые экземплярами в облачной терминологии) и хосты (иначе называемые серверами).

Виртуальные машины создаются из шаблонов. Тип обеспечения (или источник предоставления) варьируется от поставщика к поставщику.

Для развертывания экземпляров используются образы, которые доступны у соответствующих поставщиков облачных услуг.

Помимо автоматического предоставления ВМ или экземпляров, Комплекс также поддерживает предоставление хостов с помощью механизма автоматизации ролей серверов и шаблонов.

### 6.1 Инфраструктура

#### 6.1.1 Обзор

Для просмотра сведений о ресурсах поставщика и выполнения сопутствующих действий в меню панели навигации:

выбрать пункт "Ресурсы → Инфраструктура  Поставщики"; в рабочей области появится список существующих поставщиков с описанием характеристик: признаком активности, типом и режимом;

нажать на запись поставщика в списке; в рабочей области появятся виджеты с информацией, расположенные посекционно (рисунок 57):

сведения о составе ресурсов поставщика;

"Общая загруженность";

"Загруженность кластера";

"Недавние хосты";

"Недавние ВМ и шаблоны".

Обзор поставщика инвентаризации

Для изменения представления обзора можно воспользоваться пиктограммами:

– для обновления содержания рабочей области;

– сводное представление;

– представление панели мониторинга.

#### 6.1.2 Кластеры

Кластеры обеспечивают высокую доступность и балансировку нагрузки для группы хостов.

Для работы с кластерами нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  Кластеры". В рабочей области отобразится перечень кластеров в составе всех подключенных к Комплексе поставщиков инфраструктуры в виде таблицы с наименованием кластера, поставщика, ЦОД, количеством хостов, ВМ и шаблонов (рисунок 58).

Список кластеров поставщиков инфраструктуры

Для обзора сведений о кластере нужно нажать на его наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 59):

Отношения;

Суммарные данные для хостов;

Суммарные данные для ВМ;

Управление Smart.

Сводка по кластеру

Операции, которые можно проводить с кластерами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Выполнить анализ SmartState – выполнить анализ кластера, чтобы собрать исторические данные для сравнения с предыдущими моментами времени;

Сравнить выбранные элементы – (выбор не менее двух кластеров из списка) провести сравнение характеристик кластеров;

Удалить выбранные элементы из инвентаря – удалить помеченные флажками кластеры из списка, подтвердив нажатием Да в модальном окне;

Политика:

Управление политиками – назначить кластеру группы политик контроля или соответствия;

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов кластеру;

Наблюдение:

Загруженность – просмотр в виде виджетов текущих, исторических и прогнозных данных по мощностям (статусы ЦП ВМ, ЦП, память, дисковый ввод-вывод, сетевой ввод-вывод, хосты, ВМ), загруженности в соответствии с задаваемыми параметрами времени и периодов;

Временные шкалы – просмотр временных шкал для заданных типов, категорий и уровней событий, дат начала и окончания.

#### 6.1.3 Хосты

Для работы с хостами нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  Хосты". В рабочей области отобразится перечень хостов в составе всех подключенных к Комплексе поставщиков инфраструктуры в виде таблицы с наименованием хоста, поставщика, именем хоста гипервизора, IP-адреса, кластера, количеством ВМ и шаблонов, платформы, состоянием электропитания, соответствием требованиям, временем последнего анализа, статусом аутентификации (рисунок 60).

Список хостов поставщиков инфраструктуры

Для обзора сведений о хосте нужно нажать на его наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 61):

Свойства;

Отношения;

Соответствие требованиям;

Безопасность;

Конфигурация;

Управление Smart;

Статус аутентификации.

Сводка по хосту

Операции, которые можно проводить с хостами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Обновить сведения об отношениях и состоянии электропитания – обновить страницу новыми сведениями об отношениях хостов со связанными ресурсами;

Выполнить анализ SmartState – выполнить анализ хоста, чтобы собрать дополнительную информацию, такую как изменения, ЦП и память;

Сравнить выбранные элементы – (выбор не менее двух хостов из списка) провести сравнение характеристик хостов;

Редактировать выбранные элементы – редактировать параметры хоста, такие как имя пользователя и пароль, включение/отключение веб-сервиса;

Удалить элементы из инвентаря – удалить помеченные флажками хосты из списка, подтвердив нажатием Да в модальном окне;

Политика:

Управление политиками – назначить хосту группы политик контроля или соответствия;

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов хосту;

Проверить последнюю известную конфигурацию на соответствие требованиям – проверить конфигурацию хоста на соответствие требованиям политик;

Выполнить анализ, затем проверку соответствия требованиям – выполнить последовательно задачи анализа и проверки;

Наблюдение:

Загруженность – просмотр в виде виджетов текущих, исторических и прогнозных данных по мощностям (статусы ЦП ВМ, ЦП, память, дисковый ввод-вывод, сетевой ввод-вывод, ВМ), загруженности в соответствии с задаваемыми параметрами времени и периодов;

Временные шкалы – просмотр временных шкал для заданных типов, категорий и уровней событий, дат начала и окончания.

Электропитание:

Войти в режим обслуживания – перевести хост режим технического обслуживания;

Войти в режим ожидания – перевести хост в режим ожидания;

Завершить работу – завершить работу хоста;

Перезапустить – перезагрузить хост;

Включить питание – включить питание этого хоста;

Выключить питание – выключить питание этого хоста;

Сбросить – перезапустить ВМ.

#### 6.1.4 Виртуальные машины

##### 6.1.4.1 Обзор

Для просмотра информации о ВМ необходимо выбрать в меню панели навигации "Ресурсы  Инфраструктура  Виртуальные машины".

В левой части рабочей области отобразятся аккордеоны для получения данных о ВМ в различных представлениях:

Вирт. машины и шаблоны – перечень всех ВМ и шаблонов в составе всех подключенных к Комплексе поставщиков инфраструктуры в виде таблицы с наименованием ВМ, состоянием электропотребления,  кластера, хоста, IP-адреса, кластера, хранилища данных, соответствием требованиям, количеством снимков, выделенным размеров (в Гб) и временем последнего анализа (рисунок 62);

ВМ – перечень всех ВМ в аккордеоне "Все ВМ" или по фильтрам из набора встроенных "Глобальных фильтров" или пользовательских "Моих фильтров", для перехода к которым нужно развернуть соответствующий аккордеон и выбрать один из фильтров, при этом в рабочей области отобразятся только ВМ, удовлетворяющие этому фильтру;

Шаблоны – перечень всех шаблонов в аккордеоне "Все шаблоны" или по фильтрам из набора встроенных "Глобальных фильтров" или пользовательских "Моих фильтров", для перехода к которым нужно развернуть соответствующий аккордеон и выбрать один из фильтров, при этом в рабочей области отобразятся только шаблоны, удовлетворяющие этому фильтру;

Иерархическое представление – перечень  ВМ и шаблонов в составе выбранных из иерархического дерева подразделений и проектов организации.

Перечень ВМ

При выборе конкретного шаблона или образа в рабочей области появится вся информация о состоянии, распределенная по секциям (рисунок 63):

Свойства – идентификатор, имя, описание, имя хоста, IP-адреса, MAC-адрес, контейнер, платформа родительского хоста, инструменты платформы, ОС, признак схожести ЦП, устройства, снимки, дополнительные параметры, доступность ресурсов, доступно, GUID подсистемы управления, признак защищённости;

Жизненный цикл – сведения о времени обнаружения, последнего анализа, вывода из эксплуатации; состояние вывода из эксплуатации, группа арендаторов;

Соответствие требованием – статус последней проверки и история проверок;

Управление электропитанием – состояние энергопотребления, время последней загрузки, время изменения состояния;

Безопасность – пользователи и группы пользователей;

Конфигурация – файлы конфигураций;

VMsafe – информация о включении функции, интегрируемой в гипервизор VMware и обеспечивающей прозрачность для предотвращения угроз безопасности на ВМ;

Отношения – тип и описание поставщика, кластер, хост, пул ресурсов, хранилища данных, служба, генеалогия (родительские и дочерние ВМ), история дрейфа, история анализа, события настраиваемой кнопки;

Нормальные рабочие диапазоны (более 30 дней) – данные о нагрузках ЦП (максимум, высокое, в среднем, низкое; в MHz и потребление в %); об использовании памяти (максимум, высокое, в среднем, низкое; в Гбайт и потребление в %);

Настраиваемые атрибуты – атрибуты, привязанные к ВМ;

Метки – метки, привязанные к ВМ;

Сводка выделения ресурсов по хранилищу данных – количество дисков; выровненные диски; использование тонкого резервирования; объем дисков; всего выделено Гбайт;

Сводка фактического потребления по хранилищу данных – объем дисков; размер снимков; общее потребляемое пространство хранилища данных; выделение ресурсов (неиспользуемое/превышенное);

Диагностика – выполняющиеся процессы; журналы событий;

Управление Smart – теги компании.

Информация о ВМ по секциям

Секции для улучшения визуального восприятия можно сворачивать и разворачивать.

Данные и значения состояний кликабельны, если выделены синим цветом; по ним можно перейти к подробному просмотру данных и значений. Цифрами рядом со значками обозначаются количества экземпляров информации.

##### 6.1.4.2 Операции

Предоставление ВМ подробно описано в разделе 12 настоящего Руководства.

Для работы с ВМ используется меню быстрого доступа для выполнения операций нажатием кнопок:

Конфигурация:

Обновить сведения об отношениях и состоянии электропитания – обновить страницу новыми сведениями об отношениях ВМ со связанными ресурсами;

Выполнить анализ SmartState – выполнить анализ ВМ, чтобы собрать дополнительную информацию, такую как изменения, занятое и свободное пространство на дисках;

Извлечь выполняющиеся процессы – показать процессы, выполняющиеся на ВМ;

Сравнить выбранные элементы – при выборе не менее двух элементов провести сравнение ВМ по характеристикам и заданным параметрам (подробнее см. п.11.3.3);

Редактировать эту ВМ – редактировать параметры ВМ, такие как настраиваемый идентификатор, описание, родительскую ВМ, дочерние ВМ;

Переименовать эту ВМ – редактировать имя ВМ;

Настроить владельца – выбрать пользователя-владельца и группу с соответствующими ролями;

Удалить ВМ из инвентаря – удаление ВМ и всех ее компонент из Комплекса;

Редактировать отношения подсистемы управления – выбрать сервер Комплекса, которым управляется эта ВМ;

Рекомендации по правильному размеру – формирование рекомендаций по характеристикам ВМ – ЦП и памяти – для более эффективного использования на базе максимальных, высоких и средних показателей;

Изменить конфигурацию этой ВМ – указать изменения, вносимые в характеристики ВМ: память, ЦП, диски и адаптеры сети (рисунок 64);

Изменение конфигурации ВМ

Создать новый снимок для этой ВМ – ввести описание снимка, указать необходимость включения памяти снимка;

Политика:

Управление политиками – назначить ВМ группы политик контроля или соответствия (рисунок 65);

Назначение политик ВМ

Имитация политик – выбрать для ВМ группы политик контроля или соответствия для проверки в перечень "Действующие профили политик" перед их назначением в рабочей среде (рисунок 66); для удаления выбранной политики нажать пиктограмму ;

Имитация политик ВМ

Редактировать теги – выбрать "Категории" и "Значения" в секцию "Назначенные теги" для назначения тегов ВМ (рисунок 67); для отключения тега нажать пиктограмму ;

Назначение тегов ВМ

Проверить последнюю известную конфигурацию на соответствие требованиям – проверить конфигурацию ВМ на соответствие требованиям политик;

Жизненный цикл:

Клонировать эту ВМ – создать новый клон ВМ с редактированием параметров;

Опубликовать эту ВМ как шаблон – создать на основе этой ВМ новый шаблон для создания нового пула ВМ с одинаковыми параметрами;

Подготовка ресурсов ВМ – (при выборе одной или нескольких ВМ из общего списка) – выделение ресурсов для ВМ;

Выполнить миграцию этой ВМ – создать запрос на миграцию ВМ;

Настроить дату вывода из эксплуатации – задать конкретную дату или период времени от текущего для вывода из эксплуатации:

"Конкретная дата и время" – в появившемся поле выбрать или ввести "Дату вывода из эксплуатации";

"Задержка времени с данного момента" – в появившихся полях задать относительный период в полях "Месяцы", "Недели", "Дни", "Часы"; в списке "Предупреждение о выводе из эксплуатации" выбрать "Нет", "1 неделя до вывода из эксплуатации", "2 недели до вывода из эксплуатации", "30 дней до вывода из эксплуатации";

Примечание – Сохранение пустых данных удалит все даты вывода из эксплуатации.

Вывести эту ВМ из эксплуатации – немедленно вывести из эксплуатации выбранные службы, нажав кнопку Да для подтверждения в появившемся модальном окне;

Наблюдение:

Загруженность – просмотр в виде виджетов текущих, исторических и прогнозных данных по мощностям (ЦП, память, дисковый ввод-вывод, сетевой ввод-вывод), загруженности в соответствии с задаваемыми параметрами времени и периодов и в сравнении с родительскими ресурсами (хост, кластер) (рисунок 68);

Данные по мощностям и загруженности

Временные шкалы – просмотр временных шкал для заданных типов, категорий и уровней событий, дат начала и окончания (рисунок 69);

Временные шкалы

Предв. просмотр взимаемых средств за использование –

просмотр в табличном виде данных по датам и с итогами о взимаемых средствах за использование ВМ со сведениями:

Тарифы взимания средств за использование;

Фиксированная метрика ресурса;

Фиксированные затраты на ресурсы 1;

Фиксированные затраты на ресурсы 2;

Вирт. ЦП, выделенные в течение промежутка времени;

Затраты на выделенные вирт. ЦП;

ЦП: потребляемых;

Затраты на потребление ЦП;

ЦП: общие затраты;

Выделено памяти за промежуток времени;

Затраты на выделенную память;

Память: используемая;

Память: затраты на используемую;

Память: общие затраты;

Потребляемый дисковый ввод-вывод;

Затраты на потребляемый дисковый ввод-вывод;

Используемый ввод-вывод сети;

Затраты на потребление ввода-вывода сети;

Фиксированные затраты на хранилища 1;

Фиксированные затраты на хранилища 2;

Выделенное хранилище;

Затраты на выделенное хранилище;

Потребляемое хранилище;

Затраты на потребляемое хранилище;

Общие затраты на хранилище;

Общие затраты;

Электропитание:

Завершить работу гостевой ОС – завершить работу гостевой ОС на этой ВМ;

Перезагрузить гостевую ОС – перезагрузить гостевую ОС на этой ВМ;

Включить питание – включить питание этой ВМ;

Выключить питание – выключить питание этой ВМ;

Приостановить (suspend) – приостановить работу этой ВМ;;

Сбросить – перезапустить ВМ;

Удалить – удалить ВМ;

Доступ:

ВМ: консоль – подключение к консоли ВМ через протокол SPICE.

#### 6.1.5 Пулы ресурсов

Пулы ресурсов в Комплексе создаются для эффективного управления набором ВМ или экземпляров, объединенных каким-либо набором признаков.

Для работы с пулами ресурсов нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  Пулы ресурсов". В рабочей области отобразится перечень пулов ресурсов в виде таблицы с наименованиями, количествами ВМ с пулом ресурсов по умолчанию, всего ВМ, всего шаблонов, временем создания, временем обновления, признаком контейнера vApp, регионом (рисунок 70).

Список пулов ресурсов

Для обзора сведений о пуле ресурсов нужно нажать на его наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 71):

Свойства;

Отношения;

Управление Smart.

Сводка по пулу ресурсов

Операции, которые можно проводить с хостами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Удалить пул ресурсов из инвентаря – удалить помеченные флажками пулы из списка, подтвердив нажатием Да в модальном окне;

Политика:

Управление политиками – назначить пулу ресурсов группы политик контроля или соответствия;

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов пулу ресурсов.

#### 6.1.6 Хранилища данных

Для работы с хранилищами данных, предоставляемыми поставщиками инфраструктуры, нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  Хранилища данных". В рабочей области в левой панели отобразятся аккордеоны "Хранилища данных" и "Кластеры хранилищ данных", в которых в иерархическом виде показаны встроенные фильтры "Глобальные фильтры" по типу хранилища и пользовательские фильтры, в правой панели –перечень хранилищ, удовлетворяющих выбранному фильтру, в виде таблицы с наименованием хранилища, поставщика, типом, совокупным объемом, свободным местом, количеством ВМ разного типа и пр. (рисунок 72).

Список хранилищ поставщиков инфраструктуры

Для обзора сведений о хранилище нужно нажать на его наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 73):

Свойства;

Отношения;

Сведения для зарегистрированных ВМ;

Управление Smart.

Сводка по хранилищу данных

Операции, которые можно проводить с хостами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Выполнить анализ SmartState – выполнить анализ хранилища, чтобы собрать дополнительную информацию, такую как изменения, занятое и свободное пространство на дисках;

Удалить хранилища данных из инвентаря – удалить помеченные флажками хранилища из списка, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов хранилищу.

#### 6.1.7 PXE

PXE-серверы используются Комплексом для загрузки ВМ с целью подготовки. Они включают в себя образы для различных ОС, которые можно настроить с помощью шаблонов настройки и которые используются вместе с серверами IPMI.

##### 6.1.7.1 Серверы PXE

Для работы с серверами PXE нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  PXE", в левой панели рабочей области развернуть аккордеон "Серверы PXE" и выбрать "Все серверы PXE". В правой панели рабочей области отобразится перечень серверов PXE в составе всех подключенных к Комплексе поставщиков инфраструктуры в виде таблицы с наименованием сервера, поставщика, описанием характеристик (рисунок 74).

Список серверов PXE

Для добавления нового сервера PXE необходимо выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новый сервер PXE;

в рабочей области "Добавление нового сервера PXE" задать параметры в полях (рисунок 75):

в секции "Основные сведения":

"Имя" – ввести имя нового сервера PXE;

"URI" – ввести URI по общей схеме "schema://host:port/path";

"URI доступа" – ввести идентификатор доступа к ресурсу;

"Папка PXE" – ввести путь до папки с файлами PXE;

"Папка с образами Windows" – ввести путь до папки с файлами-образами Windows;

"Папка настроек" – ввести путь до папки с файлами конфигурации;

в секции "Меню образа PXE":

"Имя файла" – ввести имя файла с конфигурацией меню.

нажать кнопку Сохранить.

Добавление нового сервера PXE

Операции, которые можно проводить с серверами PXE, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Обновить сведения об отношениях – обновить сведения для всех элементов, связанных с выбранными серверами PXE;

Редактировать выбранные сервера PXE – внести необходимые изменения в параметры сервера;

Удалить серверы PXE из инвентаря – удалить выбранные флажками серверы из списка, подтвердив удаление нажатием кнопки Да в появившемся модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов серверу PXE.

##### 0.2.0.1 Шаблоны настроек

Для работы с шаблонами настроек нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  PXE", в левой панели рабочей области развернуть аккордеон "Шаблоны настроек" и выбрать "Все шаблоны настроек: типы системных образов", в котором размещены встроенные папки примеров шаблонов и шаблонов для разных типов системных образов. В правой панели рабочей области отобразится перечень шаблонов настроек в виде таблицы с наименованием и описанием (рисунок 76).

Список шаблонов настроек

Для добавления шаблона настроек необходимо выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новый шаблон настроек;

в рабочей области "Добавление нового шаблона настроек" задать параметры в полях (рисунок 77):

"Имя" – ввести имя нового шаблона настроек;

"Описание" – ввести краткое описание нового шаблона настроек;

"Тип образа" – выбрать из раскрывающегося списка один из типов образов ОС:

CentOS-6;

ESX;

RHEL-6;

Windows;

РОСА;

"Тип" – выбрать из раскрывающегося списка тип установки ОС: Kickstart, Sysprep или CloudInit;

"Сценарий" – вставить код сценария развертывания ОС.

нажать кнопку Сохранить.

Новый шаблон появится в соответствующей папке типа образа.

Добавление нового шаблона настроек

Операции, которые можно проводить с шаблонами настроек, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Копировать этот шаблон настроек – копировать исходный шаблон, ввести уникальное имя и изменить при необходимости параметры;

Редактировать этот шаблон настроек – внести необходимые изменения в параметры шаблона;

Удалить этот шаблон настроек – удалить выбранные флажками из списка шаблонов, подтвердив удаление нажатием кнопки Да в появившемся модальном окне.

##### 0.2.0.2 Типы образов

Для работы с типами системных образов нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  PXE", в левой панели рабочей области развернуть аккордеон "Типы системных образов" и выбрать "Все типы системных образов", в котором размещены встроенные типы системных образов. В правой панели рабочей области отобразится описание типа системного образа (рисунок 78).

Список типов системных образов

Для добавления нового типа образа необходимо выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новый тип системного образа;

в рабочей области "Добавление новых типов системного образа" задать параметры в полях:

"Имя" – ввести имя типа образа;

"Тип" – выбрать из раскрывающегося списка тип применимости "Хост (Host)" или "ВМ и экземпляр (VM and Instance)";

нажать кнопку Сохранить.

Операции, которые можно проводить с типами системных образов осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Редактировать этот тип системных образов – внести необходимые изменения в параметры типа;

Удалить выбранные типы образов – удалить выбранные флажками из списка типов, подтвердив удаление нажатием кнопки Да в появившемся модальном окне.

##### 6.1.7.2 Обеспечение ISO

Комплекс также позволяет предоставлять ISO-образы из хранилищ данных поставщиков инфраструктуры.

Для работы с ISO-образами нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  PXE", в левой панели рабочей области развернуть аккордеон "Хранилища данные ISO" и выбрать "Все хранилища данных ISO". В правой панели рабочей области отобразится список хранилищ данных ISO с описанием имен, поставщиков, типов данных и других характеристик (рисунок 79).

Список хранилищ данных ISO

Операции, которые можно проводить с ISO-образами, осуществляются с помощью кнопок меню быстрого доступа:

Удалить хранилища данных ISO из инвентаря – удалить помеченные флажками хранилища из списка, подтвердив нажатием Да в модальном окне;

Обновить сведения об отношениях – обновить страницу новыми сведениями об отношениях хранилищ со связанными ресурсами.

#### 6.1.8 Сетевая конфигурация

При добавлении нового поставщика Комплекс обнаруживает имеющиеся сетевые ресурсы, такие как распределенные коммутаторы, сетевые адаптеры и т.д.

Для работы с сетевыми ресурсами нужно выбрать в меню панели навигации "Ресурсы  Инфраструктура  Сетевая конфигурация", в левой панели рабочей области развернуть аккордеон "Коммутаторы" и выбрать "Все распределенные коммутаторы". В правой панели рабочей области отобразится список сетевых коммутаторов (рисунок 80).

Список распределенных коммутаторов

### 6.2 Физическая инфраструктура

#### 6.2.1 Обзор

Для просмотра сведений о ресурсах поставщика физической инфраструктуры и выполнения сопутствующих действий в меню панели навигации выполняют следующие действия:

выбрать пункт "Ресурсы → Физич. инфраструктура  Обзор"; в рабочей области появятся виджеты с данными о серверах (рисунок 81):

"Данные серверов";

"Недавние серверы (за последние 30 дней)".

Обзор физической инфраструктуры

#### 6.2.2 Хранилища

Для работы с хранилищами в составе физической инфраструктуры нужно выбрать в меню панели навигации "Ресурсы  Физич. инфраструктура  Хранилища". В правой панели рабочей области отобразится перечень хранилищ в составе всех подключенных к Комплексе поставщиков физической инфраструктуры и физических хранилищ в виде таблицы с наименованием хранилища, поставщика, описанием характеристик (рисунок 82).

Список физических хранилищ

Для подключения отдельной системы физического хранилища необходимо выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Присоединить новую систему хранилищ;

в рабочей области "Добавление нового физического хранилища" задать параметры в полях (рисунок 83):

"Поставщик" – выбрать из раскрывающегося списка поставщика;

"IP управления" – ввести IP-адрес конечной точки подключения;

"Имя пользователя" – ввести имя/логин пользователя;

"Пароль" – ввести пароль пользователя;

нажать кнопку Проверить действительность для подтверждения корректности введенных параметров;

нажать кнопку Добавить в случае успешного подтверждения.

Добавление нового сервера PXE

Операции, которые можно проводить с хранилищами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Обновить выбранные физич. хранилища – обновить сведения о хранилищах;

Редактировать выбранное физич. хранилище – внести необходимые изменения в параметры хранилища;

Удалить выбранные физич. хранилища – удалить выбранные флажками из списка хранилищ, подтвердив удаление нажатием кнопки Да в появившемся модальном окне.

#### 6.2.3 Реестры встроенного ПО

Для работы с реестрами встроенного ПО в составе физической инфраструктуры нужно выбрать в меню панели навигации "Ресурсы  Физич. инфраструктура  Реестр встроенного ПО". В правой панели рабочей области отобразится перечень реестров в составе всех подключенных к Комплексе поставщиков физической инфраструктуры и добавленных реестров в виде таблицы с описаниями (рисунок 84).

Список реестров встроенного ПО

Для подключения отдельной системы физического хранилища необходимо выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новые реестр встроенного ПО;

в появившемся модальном окне "Добавление нового реестра встроенного ПО" задать параметры в полях (рисунок 85):

"Имя" – вести имя реестра;

"URL" – ввести HTTPS-адрес реестра;

"Имя пользователя" – ввести имя/логин пользователя;

"Пароль" – ввести пароль пользователя;

нажать кнопку Добавить.

Добавление нового реестра встроенного ПО

Операции, которые можно проводить с реестрами встроенного ПО, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Обновить сведения об отношениях – обновить сведения о реестрах;

Удалить реестры встроенного ПО из инвентаря – удалить выбранные флажками из списка реестров, подтвердив удаление нажатием кнопки Да в появившемся модальном окне.

### 6.3 Облака

#### 6.3.1 Управление ключами SSH

Использование криптографических ключей SSH позволяет обеспечить защищенный доступ пользователя к предоставляемым ресурсам через РОСА Менеджер ресурсов по протоколу SSH.

##### 6.3.1.1 Создание ключей SSH

Создание ключей SSH осуществляется выполнением следующих действий.

в меню панели навигации выбрать пункт "Ресурсы → Облака → Пары ключей";

нажать кнопку Конфигурация и выбрать Добавить ключ SSH;

в соответствующем поле ввести наименование ключа SSH;

при необходимости скопировать содержимое публичного ключа в поле "Открытый ключ";

выбрать поставщика предоставляемых ресурсов, доступ к которым будет осуществляться с использованием этих ключей SSH.

нажать кнопку Добавить.

##### 6.3.1.2 Просмотр ключей SSH

Добавленные и сохраненные в Комплексе ключи SSH доступны для просмотра в меню "Ресурсы → Облака → Пары ключей" панели навигации.

Для просмотра детальной информации нужно выбрать необходимые ключи SSH из общего списка (рисунок 86).

Список ключей SSH

### 6.4 Контейнеры

#### 6.4.1 Обзор

Для просмотра сведений о ресурсах поставщиков контейнеров выбирают пункт "Ресурсы → Контейнеры  Обзор"; в рабочей области появятся виджеты с данными о контейнерах по секциям (рисунок 87):

"Общие сведения" с количеством узлов, контейнеров, реестров, проектов, подов, служб, образов и маршрутов;

"Суммарная загруженность узлов";

"Тенденция использования нового образа".

Панель мониторинга контейнера

### 6.5 Сети

Комплекс обеспечивает настройку и администрирование программно-определяемого сетевого компонента поставщиков сетей. Инфраструктура облачной сети обеспечивает связь между экземплярами и физической внешней сетью.

В этом разделе описаны общие задачи администрирования облачной сети, такие как добавление и удаление подсетей и маршрутизаторов в соответствии с требованиями поставщиков.

#### 6.5.1 Облачная сеть

Для работы с сетями нужно выбрать в меню панели навигации "Сеть  Сети". В рабочей области "Облачные сети" отобразится перечень сетей в составе всех подключенных к Комплексе поставщиков инфраструктуры в виде таблицы с наименованием, статусом, количеством экземпляров и поставщиком (рисунок 88).

Список сетей

Для обзора сведений о сети нужно нажать на ее наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 89):

Свойства;

Отношения;

Управление Smart.

Сводка по сети

Для добавления новой облачной сети нужно выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новую облачную сеть;

в рабочей области "Добавление новой облачной сети" задать параметры в полях (рисунок 90):

в секции "Поставщик сети":

"Диспетчер сети" – выбрать из раскрывающегося списка одного из поставщиков:

zVirt Network Manager – это программный продукт для управления и мониторинга сетей, виртуализированных с помощью платформы zVirt; предоставляет пользователям централизованное решение для управления различными аспектами виртуализированных сетей, такими как сетевые интерфейсы, VLAN, DHCP, DNS, а также безопасностью и доступом;

ROSA Network Manager – это приложение для управления сетями; позволяет пользователям управлять сетевыми настройками, получать информацию о состоянии сети, а также настраивать различные параметры, связанные с работой сети, такие как IP-адреса, маски подсети, шлюзы и другие;

в секции "Размещение":

"Арендатор облака" – выбрать из раскрывающегося списка арендатора;

в секции "Сведения о сети":

"Внешний маршрутизатор" – поставить переключатель в положение "Да" или "Нет" в зависимости от наличия;

"Административное состояние" – поставить переключатель в положение "Запущен" или "Не работает";

"Разделяемый ресурс " – поставить переключатель в положение "Да" или "Нет" в зависимости от характеристики;

нажать кнопку Добавить.

Добавление облачной сети

Операции, которые можно проводить с сетями, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Редактировать эту облачную сеть – редактировать параметры сети;

Удалить эту облачную сеть – удалить сеть, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов сети.

#### 6.5.2 Права на сети

Права на сети РОСА Менеджер ресурсов определяются через группы пользователей, работа с которыми описана в п.4.2.2.2 настоящего Руководства.

Для работы с правами  нужно выбрать в меню панели навигации "Сеть  Права на сети". В рабочей области отобразится перечень групп с указанием имен сетей, права на которые назначены (рисунок 91).

РОСА Менеджер ресурсов предоставляет роли групп по умолчанию, но также возможно создавать собственные и/или копировать и редактировать роли по умолчанию.

Права на сети

Права группы на сети определяются привязкой группы к конкретной сети.

Для добавления нового права на сеть необходимо нажать на ссылку Добавить права и в открывшейся рабочей области "Создание нового правила" в полях (рисунок 92):

Группа – выбрать из раскрывающегося списка группу пользователей, которой будут назначены права на сеть;

Сеть – выбрать из раскрывающегося списка сеть.

Для добавления нового права требуется нажать кнопку Сохранить. Для отказа от сохранения нажать ссылку Вернуться к списку.

Создание нового правила на сеть

Для изменения права на сеть следует нажать на ссылку Изменить в строке списка прав и выбрать другие группу и/или сеть.

Для удаления права на сеть нужно нажать на ссылку Удалить в строке списка прав и подтвердить действие в появившемся модальном окне.

#### 6.5.3 Подсети

Для работы с подсетями нужно выбрать в меню панели навигации "Сеть  Подсети". В рабочей области "Облачные подсети" отобразится перечень подсетей в составе всех подключенных к Комплексе поставщиков инфраструктуры и сетей в виде таблицы с наименованием сети, CIDR-адресом, шлюзом, протоколом, сервером имен DNS, количеством экземпляров и поставщиком (рисунок 93).

Список подсетей

Для обзора сведений о подсети нужно нажать на ее наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций:

Свойства;

Отношения;

Управление Smart.

Для добавления новой облачной подсети нужно выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новую облачную подсеть;

в рабочей области "Добавление новой облачной подсети" задать параметры в полях (рисунок 94):

"Диспетчер сети" – выбрать из раскрывающегося списка одного из поставщиков: "zVirt Network Manager" или "ROSA Network Manager";

"Имя" – ввести имя подсети;

"CIDR" – адрес подсети;

"Серверы DNS" – нажать кнопку , чтобы добавить IP-адрес сервера DNS; кнопку  , чтобы удалить сервер DNS;

"Размещение арендатора облака" – выбрать из раскрывающегося списка арендатора облака;

"Сеть" – выбрать из раскрывающегося списка родительскую сеть;

"Шлюз" ввести IP-адрес шлюза;

"DHCP" – поставить переключатель для включения/отключения сетевого протокола DHCP;

"Версия IP" – выбрать из раскрывающегося списка "ipv4" или "ipv6";

"Пулы выделения ресурсов" – нажать кнопку , чтобы добавить пул ресурсов IP-адресов от поля "Запустить" до поля "Завершить"; кнопку  , чтобы удалить пул ресурсов;

"Маршруты хоста" – нажать кнопку , чтобы добавить маршрут, введя значения в поля "Следующий сетевой переход" и "Цель"; кнопку  , чтобы удалить маршрут;

нажать кнопку Добавить.

Добавление облачной подсети

Операции, которые можно проводить с подсетями, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Редактировать эту облачную подсеть – редактировать параметры подсети;

Удалить эту облачную подсеть – удалить подсеть, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов подсети.

#### 0.2.1 Маршрутизаторы

Для работы с сетевыми маршрутизаторами нужно выбрать в меню панели навигации "Сеть  Маршрутизаторы". В рабочей области "Маршрутизаторы" отобразится перечень маршрутизаторов в составе всех подключенных к Комплексе поставщиков инфраструктуры и сетей в виде таблицы с наименованием сети, шлюзом и поставщиком.

Для добавления новой маршрутизатора нужно выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новый маршрутизатор;

в рабочей области "Добавление нового сетевого маршрутизатора" задать параметры в полях (рисунок 95):

"Диспетчер сети" – выбрать из раскрывающегося списка одного из поставщиков: "zVirt Network Manager" или "ROSA Network Manager";

"Размещение арендатора облака" – выбрать из раскрывающегося списка арендатора облака;

"Имя" – ввести имя маршрутизатора;

"Административное состояние" – поставить переключатель в положение "Запущен" или "Не работает";

"Внешний шлюз" – поставить переключатель в положение "Да" или "Нет" в зависимости от наличия; при включении внешнего шлюза:

"Source NAT" – поставить переключатель в положение "Да" или "Нет" в зависимости от наличия подмены адреса отправителя;

"Сеть" – выбрать из раскрывающегося списка внешний шлюз;

нажать кнопку Добавить.

Добавление сетевого маршрутизатора

Операции, которые можно проводить с маршрутизаторами, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Удалить выбранные маршрутизаторы – удалить маршрутизаторы, выбранные флажками из списка, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов маршрутизатору.

#### 6.5.4 Группы безопасности

Для работы с группами безопасности нужно выбрать в меню панели навигации "Сеть  Сети". В рабочей области "Облачные сети" отобразится перечень сетей в составе всех подключенных к Комплексе поставщиков инфраструктуры и сетей в виде таблицы с наименованием и описанием группы, количеством экземпляров, арендатором и поставщиком (рисунок 96).

Список групп безопасности

Для обзора сведений о группе безопасности нужно нажать на ее наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 97):

Свойства;

Отношения;

Правила межсетевого экрана;

Управление Smart.

Сводка по группе безопасности

Для добавления новой группы безопасности нужно выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новую группу безопасности;

в рабочей области "Добавление новой группы безопасности " задать параметры в полях (рисунок 98):

в секции "Поставщик управления сетью":

"Диспетчер сети" – выбрать из раскрывающегося списка одного из поставщиков "zVirt Network Manager" или "ROSA Network Manager";

в секции "Сведения о группе безопасности":

"Имя группы безопасности " – ввести наименование группы;

"Описание группы безопасности " – ввести краткое описание группы;

"Размещение арендатора облака" – выбрать из раскрывающегося списка арендатора;

нажать кнопку Добавить.

Добавление облачной сети

Операции, которые можно проводить с группами безопасности, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Редактировать эту группу безопасности – редактировать параметры группы;

Удалить эту групп безопасности – удалить группу, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов группе безопасности.

#### 6.5.5 `Плавающие` IP

`Плавающие` IP – статические внешние IP-адреса, который можно переносить между сервисами внутри одной зоны доступности облачных сетей.

Для работы с `плавающими` IP нужно выбрать в меню панели навигации "Сеть  `Плавающие` IP". В рабочей области "`Плавающие` IP" отобразится перечень `плавающих` IP в составе всех подключенных к Комплексе поставщиков инфраструктуры и сетей в виде таблицы с наименованием, внешней сетью, арендатором, связями и поставщиком.

Для добавления нового `плавающего` IP нужно выполнить следующие действия:

нажать кнопку Конфигурация в меню панели быстрого доступа, выбрать Добавить новый `плавающий` IP;

в рабочей области "Добавление нового `плавающего` IP" задать параметры в полях (рисунок 99):

в секции "Поставщик управления сетью":

"Диспетчер сети" – выбрать из раскрывающегося списка одного из поставщиков "zVirt Network Manager" или "ROSA Network Manager";

"Внешняя сеть" – выбрать из раскрывающегося списка источник IP-адресов;

"Размещение арендатора облака" – выбрать из раскрывающегося списка арендатора;

в секции "Сведения о связях":

"`Плавающий` адрес IP (дополнительно) " – ввести дополнительный IP-адрес;

"Фиксированный адрес IP " – ввести фиксированный IP-адрес;

"ID привязанного порта" – ввести ID порта (оставить пустым для отвязки);

нажать кнопку Добавить.

Добавление `плавающего` IP

Операции, которые можно проводить с `плавающими` IP, осуществляются с помощью кнопок меню быстрого доступа:

Конфигурация:

Редактировать этот `плавающий` IP – редактировать параметры `плавающего` IP;

Удалить этот `плавающий` IP – удалить `плавающий` IP, подтвердив нажатием Да в модальном окне;

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов `плавающему` IP.

#### 6.5.6 Порты

Для работы с портами сети нужно выбрать в меню панели навигации "Сеть  Подсети". В рабочей области "Порты сети" отобразится перечень портов в составе всех подключенных к Комплексе поставщиков инфраструктуры и сетей в виде таблицы с наименованием порта, MAC-адресом, IP-адресами, подсетью и поставщиком (рисунок 100).

Список портов сети

Для обзора сведений о портах нужно нажать на его наименование в списке. В рабочей области отобразится сводка сведений в составе следующих секций (рисунок 101):

Свойства;

Отношения;

Управление Smart.

Сводка по порту

Операции, которые можно проводить с портами, осуществляются с помощью кнопок меню быстрого доступа:

Политика:

Редактировать теги – выбрать "Категории" и "Значения" для назначения тегов порту.

### 6.6 Хранилище

#### 6.6.1 Хранилища

Подробное описание работы с физическими хранилищами приведено в п.6.2.2.